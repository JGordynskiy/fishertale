[gd_scene load_steps=15 format=3 uid="uid://dck6bjx1x2ag7"]

[ext_resource type="Script" uid="uid://cll2i408q6jpp" path="res://scenes/objects/rockattack.gd" id="1_iursk"]
[ext_resource type="Texture2D" uid="uid://biljmjygnte0k" path="res://Assets/bubble.png" id="1_xjojo"]
[ext_resource type="Texture2D" uid="uid://c1im4mdfkcwic" path="res://Assets/objects/breakRock.png" id="2_iursk"]
[ext_resource type="Texture2D" uid="uid://cy5n6eyf8mc0n" path="res://Assets/objects/warningLaser.png" id="4_f8su4"]
[ext_resource type="AudioStream" uid="uid://pyxlop7ete8f" path="res://Assets/sounds/enemie/rushingwaterloop.ogg" id="5_1akex"]
[ext_resource type="AudioStream" uid="uid://du6c0bgdsnbr1" path="res://Assets/sounds/enemie/waterminiboom.ogg" id="5_sekbf"]
[ext_resource type="AudioStream" uid="uid://dar0wniqumocu" path="res://Assets/sounds/lasercharge.ogg" id="7_ocuhj"]

[sub_resource type="Curve" id="Curve_f8su4"]
_data = [Vector2(0, 0.6629214), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_1akex"]
curve = SubResource("Curve_f8su4")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_sekbf"]
particle_flag_disable_z = true
direction = Vector3(5000, 5000, 0)
spread = 180.0
initial_velocity_min = 2500.0
initial_velocity_max = 2500.0
gravity = Vector3(0, 0, 0)
radial_accel_min = 500.0
radial_accel_max = 500.0
scale_curve = SubResource("CurveTexture_1akex")
color = Color(1, 1, 1, 0.4627451)

[sub_resource type="Animation" id="Animation_utjoa"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_ocuhj"]
resource_name = "spinning"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 6.283185307179586]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qfh3e"]
_data = {
&"RESET": SubResource("Animation_utjoa"),
&"spinning": SubResource("Animation_ocuhj")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_oxkgv"]

[node name="Rockattack" type="CharacterBody2D" groups=["dangerObj"]]
script = ExtResource("1_iursk")

[node name="Projectile" type="Node2D" parent="."]

[node name="bubbletrail" type="GPUParticles2D" parent="Projectile"]
rotation = -0.41855252
scale = Vector2(0.99999994, 1)
emitting = false
amount = 300
texture = ExtResource("1_xjojo")
fixed_fps = 0
visibility_rect = Rect2(-99999, -99999, 999999, 999999)
draw_order = 0
process_material = SubResource("ParticleProcessMaterial_sekbf")

[node name="rockSprite" type="Sprite2D" parent="Projectile"]
scale = Vector2(6.308352, 9.709339)
texture = ExtResource("2_iursk")

[node name="rockSpin" type="AnimationPlayer" parent="Projectile/rockSprite"]
libraries = {
&"": SubResource("AnimationLibrary_qfh3e")
}
autoplay = "spinning"
speed_scale = 4.0

[node name="Area2D" type="Area2D" parent="Projectile" groups=["dangerObj"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Projectile/Area2D" groups=["dangerObj"]]
scale = Vector2(76.78468, 76.78468)
shape = SubResource("CircleShape2D_oxkgv")
debug_color = Color(0.9113881, 0.26654795, 0.33972457, 0.41960785)

[node name="Warning laser" type="Sprite2D" parent="Projectile"]
self_modulate = Color(1, 0.58000004, 0.58000004, 1)
position = Vector2(79040, -2.808065e-10)
rotation = 1.5707964
scale = Vector2(15.4311495, 55.390755)
texture = ExtResource("4_f8su4")

[node name="boom" type="AudioStreamPlayer2D" parent="Projectile"]
rotation = -0.41855252
scale = Vector2(0.99999994, 1)
stream = ExtResource("5_sekbf")
max_distance = 50000.0

[node name="voosh" type="AudioStreamPlayer2D" parent="Projectile"]
rotation = -0.41855252
scale = Vector2(0.99999994, 1)
stream = ExtResource("5_1akex")
pitch_scale = 0.8
max_distance = 16000.0
attenuation = 1.231143

[node name="charge" type="AudioStreamPlayer" parent="Projectile"]
stream = ExtResource("7_ocuhj")
volume_db = -5.0
pitch_scale = 1.5
